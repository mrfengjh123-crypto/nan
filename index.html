<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2026 å¿«ä¹</title>
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background-color: #000; font-family: "Microsoft YaHei", sans-serif; }
        
        #start-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 2000; display: flex; align-items: center; justify-content: center; cursor: pointer;
        }
        #start-text { color: #ffb6c1; font-size: 16px; letter-spacing: 4px; animation: breathe 2s infinite; }
        
        /* ç…§ç‰‡å¢™ - é€æ˜åº¦ 0.8 */
        #photo-wall { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; opacity: 0; transition: opacity 2s; }
        .bg-photo {
            position: absolute; width: 130px; height: 180px;
            background-size: cover; background-position: center;
            border: 1px solid rgba(255,255,255,0.3); border-radius: 4px;
            opacity: 0; filter: brightness(0.8); 
            animation: photoFlow 14s infinite ease-in-out;
        }

        #intro-text { position: absolute; width: 100%; top: 45%; text-align: center; color: white; z-index: 100; opacity: 0; transition: opacity 1.5s; text-shadow: 0 0 15px #ff1493; }
        .line1 { font-size: 32px; font-weight: bold; margin-bottom: 8px; }
        .line2 { font-size: 16px; opacity: 0.8; }

        #wishes-container { position: absolute; width: 100%; height: 100%; z-index: 150; transition: opacity 2s; }
        .wish-item {
            position: absolute; color: #fff; font-size: 20px;
            opacity: 0; transition: all 1.5s ease-out;
            text-shadow: 0 0 10px #ff69b4;
            white-space: nowrap; font-weight: bold;
        }

        /* ç»“å±€å¡«å……æ–‡å­— */
        .fill-text {
            position: absolute; font-weight: bold;
            opacity: 0; pointer-events: none; z-index: 500;
            white-space: nowrap;
            animation: popIn 0.6s forwards cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes popIn {
            from { opacity: 0; transform: scale(0.3) rotate(-5deg); }
            to { opacity: 1; transform: scale(1) rotate(0deg); }
        }
        @keyframes breathe { 0%, 100% { opacity: 0.4; transform: scale(0.98); } 50% { opacity: 1; transform: scale(1.02); } }
        @keyframes photoFlow {
            0%, 100% { opacity: 0; transform: translateY(20px) rotate(-1deg); }
            30%, 70% { opacity: 0.8; transform: translateY(0) rotate(0deg); }
        }
    </style>
</head>
<body>

    <div id="start-overlay"><div id="start-text">âœ¨ ç‚¹å‡»å¼€å¯ 2026 çš„æƒŠå–œ âœ¨</div></div>
    <div id="photo-wall"></div>
    
    <div id="intro-text">
        <div class="line1">2026å¿«ä¹ï¼</div>
        <div class="line2">å¸Œæœ›æˆ‘çš„æ¥ æ¥ å¤©å¤©å¿«ä¹ï¼</div>
    </div>
    
    <div id="wishes-container"></div>
    <div id="fill-container" style="position:fixed; top:0; left:0; width:100%; height:100%; z-index:500; pointer-events:none;"></div>
    
    <audio id="bgm" loop><source src="music.mp3" type="audio/mpeg"></audio>

    <script>
        const wishList = [
            "æˆ‘ä»¬è¦ä¸€ç›´åšæŒä¸‹å» ğŸ’ª",
            "ä¸€èµ·åŠªåŠ›ä¸€èµ·å¼€å¿ƒï¼",
            "æ¥ æ¥ æ°¸è¿œæ˜¯å…¨ä¸–ç•Œæœ€å¥½çœ‹æœ€å¯çˆ±çš„å¥³ç”Ÿï¼",
            "2026 ä¹Ÿè¦äº‹äº‹é¡ºå¿ƒ ï¼",
            "æˆ‘ä¼šæ°¸è¿œé™ªç€å®å®æ»´ ï¼",
            "é‡åˆ°å›°éš¾å’±ä¿©ä¸€èµ·é¢å¯¹ï¼",
            "å®å®è¦å¤©å¤©å¼€å¿ƒæ¯ä¸€å¤©ï¼"
        ];

        // åˆå§‹åŒ–ç…§ç‰‡å¢™
        const wall = document.getElementById('photo-wall');
        for(let i=1; i<=15; i++) {
            const d = document.createElement('div');
            d.className = 'bg-photo';
            const imgSrc = (i > 8) ? (i % 8 + 1) : i; 
            d.style.backgroundImage = `url('photo${imgSrc}.jpg')`;
            d.style.left = (Math.random() * 70 + 5) + '%';
            d.style.top = (Math.random() * 70 + 5) + '%';
            d.style.animationDelay = (i * 1.1) + 's';
            wall.appendChild(d);
        }

        document.getElementById('start-overlay').addEventListener('click', function() {
            this.style.opacity = '0';
            setTimeout(() => this.style.display = 'none', 1000);
            document.getElementById('bgm').play();
            wall.style.opacity = '1';
            document.getElementById('intro-text').style.opacity = '1';
            setTimeout(() => {
                document.getElementById('intro-text').style.opacity = '0';
                setTimeout(() => showNextWish(0), 1500);
            }, 5000);
        });

        function showNextWish(index) {
            if (index < wishList.length) {
                const container = document.getElementById('wishes-container');
                const item = document.createElement('div');
                item.className = 'wish-item';
                item.innerText = wishList[index];
                item.style.top = (15 + index * 9) + '%'; 
                item.style.left = (15 + Math.random() * 5) + '%';
                container.appendChild(item);
                setTimeout(() => { item.style.opacity = '1'; item.style.transform = 'translateX(20px)'; }, 100);
                setTimeout(() => showNextWish(index + 1), 2000);
            } else {
                setTimeout(startFinalFillSequence, 4000);
            }
        }

        function startFinalFillSequence() {
            document.getElementById('wishes-container').style.opacity = '0';
            document.getElementById('photo-wall').style.opacity = '0';
            
            setTimeout(() => {
                const container = document.getElementById('fill-container');
                // 1. ä¸­é—´å…ˆå‡ºå¤§å­—
                const mainText = document.createElement('div');
                mainText.className = 'fill-text';
                mainText.innerText = "æˆ‘çˆ±ä½ æ¥ æ¥ ï¼";
                mainText.style.fontSize = "42px";
                mainText.style.left = "50%";
                mainText.style.top = "45%";
                mainText.style.transform = "translate(-50%, -50%)";
                mainText.style.color = "#fff";
                mainText.style.textShadow = "0 0 25px #ff1493";
                mainText.style.zIndex = "600";
                container.appendChild(mainText);

                // 2. 0.5ç§’åå¼€å§‹å…¨å±éšæœºä¹±å¼¹
                setTimeout(fillScreenRandomly, 500);
            }, 2000);
        }

        function fillScreenRandomly() {
            const container = document.getElementById('fill-container');
            const winW = window.innerWidth;
            const winH = window.innerHeight;
            const placedRects = []; // å­˜å‚¨å·²æ”¾ç½®æ–‡å­—çš„èŒƒå›´ï¼Œç”¨äºç¢°æ’æ£€æµ‹

            let count = 0;
            const maxCount = 60; // å±å¹•ä¸Šæ€»å…±å‡ºçš„å¥å­æ•°é‡

            const timer = setInterval(() => {
                if (count >= maxCount) {
                    clearInterval(timer);
                    return;
                }

                let x, y, found = false;
                let attempts = 0;

                // å°è¯•æ‰¾ä¸€ä¸ªä¸é‡å çš„ä½ç½®
                while (!found && attempts < 50) {
                    x = Math.random() * (winW - 120) + 10;
                    y = Math.random() * (winH - 50) + 25;
                    
                    // ç®€å•çš„ç¢°æ’æ£€æµ‹ï¼šæ£€æŸ¥æ˜¯å¦ä¸ä¹‹å‰çš„é‡å 
                    const isOverlap = placedRects.some(rect => {
                        return Math.abs(rect.x - x) < 100 && Math.abs(rect.y - y) < 40;
                    });

                    // é¿å¼€ä¸­é—´å¤§å­—åŒºåŸŸ
                    const isCenter = Math.abs(x - winW/2) < 120 && Math.abs(y - winH/2) < 60;

                    if (!isOverlap && !isCenter) {
                        found = true;
                        placedRects.push({x, y});
                    }
                    attempts++;
                }

                if (found) {
                    const span = document.createElement('div');
                    span.className = 'fill-text';
                    span.innerText = "æˆ‘çˆ±ä½ æ¥ æ¥ ï¼";
                    span.style.left = x + "px";
                    span.style.top = y + "px";
                    span.style.fontSize = (Math.random() * 8 + 14) + "px";
                    
                    const colors = ['#ff69b4', '#ff1493', '#ffb6c1', '#ffd1dc', '#ffffff'];
                    span.style.color = colors[Math.floor(Math.random() * colors.length)];
                    span.style.textShadow = `0 0 5px ${span.style.color}`;
                    
                    container.appendChild(span);
                    count++;
                }
            }, 100); // å¼¹å‡ºçš„é€Ÿåº¦
        }
    </script>
</body>
</html>
